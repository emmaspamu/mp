                                                                    Create new Empty Views activity project > Name it “Calc”

                                                                    MainActivity.kt



package com.example.calc


import android.os.Bundle
import android.view.View
import android.widget.Button
import android.widget.EditText
import androidx.appcompat.app.AppCompatActivity


class MainActivity : AppCompatActivity() {
   private lateinit var display: EditText
   private var currentInput = StringBuilder()
   private var currentOperator: String? = null
   private var firstOperand: Double? = null
   private var shouldClearInput = false


   override fun onCreate(savedInstanceState: Bundle?) {
       super.onCreate(savedInstanceState)
       setContentView(R.layout.activity_main)


       display = findViewById(R.id.display)


       // Number buttons (0-9)
       val numberButtons = listOf(
           R.id.btn_0, R.id.btn_1, R.id.btn_2, R.id.btn_3, R.id.btn_4,
           R.id.btn_5, R.id.btn_6, R.id.btn_7, R.id.btn_8, R.id.btn_9
       )
       numberButtons.forEach { id ->
           findViewById<Button>(id).setOnClickListener { onNumberClick(it) }
       }


       // Operator buttons
       findViewById<Button>(R.id.btn_add).setOnClickListener { onOperatorClick(it) }
       findViewById<Button>(R.id.btn_subtract).setOnClickListener { onOperatorClick(it) }
       findViewById<Button>(R.id.btn_multiply).setOnClickListener { onOperatorClick(it) }
       findViewById<Button>(R.id.btn_divide).setOnClickListener { onOperatorClick(it) }
       findViewById<Button>(R.id.btn_percent).setOnClickListener { onOperatorClick(it) }


       // Special buttons
       findViewById<Button>(R.id.btn_equals).setOnClickListener { onEqualsClick() }
       findViewById<Button>(R.id.btn_decimal).setOnClickListener { onDecimalClick() }
       findViewById<Button>(R.id.btn_clear).setOnClickListener { onClearClick() }
       findViewById<Button>(R.id.btn_sign).setOnClickListener { onSignClick() }
   }


   private fun onNumberClick(view: View) {
       if (shouldClearInput) {
           currentInput.clear()
           shouldClearInput = false
       }
       val button = view as Button
       currentInput.append(button.text)
       updateDisplay()
   }


   private fun onOperatorClick(view: View) {
       if (currentInput.isNotEmpty()) {
           firstOperand = currentInput.toString().toDouble()
           currentOperator = (view as Button).text.toString()
           shouldClearInput = true
       }
   }


   private fun onEqualsClick() {
       if (firstOperand != null && currentOperator != null && currentInput.isNotEmpty()) {
           val secondOperand = currentInput.toString().toDouble()
           val result = when (currentOperator) {
               "+" -> firstOperand!! + secondOperand
               "-" -> firstOperand!! - secondOperand
               "×" -> firstOperand!! * secondOperand
               "÷" -> firstOperand!! / secondOperand
               "%" -> firstOperand!! % secondOperand
               else -> return
           }


           currentInput.clear()
           currentInput.append(if (result % 1 == 0.0) result.toInt().toString() else result.toString())
           firstOperand = result
           currentOperator = null
           shouldClearInput = true
           updateDisplay()
       }
   }


   private fun onDecimalClick() {
       if (!currentInput.contains(".")) {
           if (currentInput.isEmpty()) {
               currentInput.append("0.")
           } else {
               currentInput.append(".")
           }
           updateDisplay()
       }
   }


   private fun onSignClick() {
       if (currentInput.isNotEmpty()) {
           val value = currentInput.toString().toDouble() * -1
           currentInput.clear()
           currentInput.append(if (value % 1 == 0.0) value.toInt().toString() else value.toString())
           updateDisplay()
       }
   }


   private fun onClearClick() {
       currentInput.clear()
       firstOperand = null
       currentOperator = null
       shouldClearInput = false
       display.text = null
       display.hint = "0"
   }


   private fun updateDisplay() {
       display.setText(currentInput.toString())
   }
}







                                                                    activity_main.xml







<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="match_parent"
   android:layout_height="match_parent"
   android:orientation="vertical"
   android:padding="16dp">


   <!-- Display -->
   <EditText
       android:id="@+id/display"
       android:layout_width="match_parent"
       android:layout_height="100dp"
       android:textSize="36sp"
       android:hint="0"
       android:inputType="numberDecimal"
       android:textAlignment="textEnd"
       android:padding="16dp"
       android:editable="false"/>


   <!-- Buttons Grid -->
   <GridLayout
       android:layout_width="match_parent"
       android:layout_height="wrap_content"
       android:columnCount="4"
       android:rowCount="5">


       <!-- Row 1 -->
       <Button
           android:id="@+id/btn_clear"
           android:layout_row="0"
           android:layout_column="0"
           android:text="C"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_sign"
           android:layout_row="0"
           android:layout_column="1"
           android:text="+/-"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_percent"
           android:layout_row="0"
           android:layout_column="2"
           android:text="%"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_divide"
           android:layout_row="0"
           android:layout_column="3"
           android:text="÷"
           android:textSize="24sp"/>


       <!-- Row 2 -->
       <Button
           android:id="@+id/btn_7"
           android:layout_row="1"
           android:layout_column="0"
           android:text="7"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_8"
           android:layout_row="1"
           android:layout_column="1"
           android:text="8"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_9"
           android:layout_row="1"
           android:layout_column="2"
           android:text="9"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_multiply"
           android:layout_row="1"
           android:layout_column="3"
           android:text="×"
           android:textSize="24sp"/>


       <!-- Row 3 -->
       <Button
           android:id="@+id/btn_4"
           android:layout_row="2"
           android:layout_column="0"
           android:text="4"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_5"
           android:layout_row="2"
           android:layout_column="1"
           android:text="5"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_6"
           android:layout_row="2"
           android:layout_column="2"
           android:text="6"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_subtract"
           android:layout_row="2"
           android:layout_column="3"
           android:text="-"
           android:textSize="24sp"/>


       <!-- Row 4 -->
       <Button
           android:id="@+id/btn_1"
           android:layout_row="3"
           android:layout_column="0"
           android:text="1"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_2"
           android:layout_row="3"
           android:layout_column="1"
           android:text="2"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_3"
           android:layout_row="3"
           android:layout_column="2"
           android:text="3"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_add"
           android:layout_row="3"
           android:layout_column="3"
           android:text="+"
           android:textSize="24sp"/>


       <!-- Row 5 -->
       <Button
           android:id="@+id/btn_0"
           android:layout_row="4"
           android:layout_column="0"
           android:layout_columnSpan="2"
           android:text="0"
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_decimal"
           android:layout_row="4"
           android:layout_column="2"
           android:text="."
           android:textSize="24sp"/>


       <Button
           android:id="@+id/btn_equals"
           android:layout_row="4"
           android:layout_column="3"
           android:text="="
           android:textSize="24sp"/>
   </GridLayout>
</LinearLayout>

